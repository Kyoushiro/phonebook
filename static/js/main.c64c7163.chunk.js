(this.webpackJsonpphoneform=this.webpackJsonpphoneform||[]).push([[0],{115:function(e,t,a){e.exports=a.p+"static/media/arrowLeft.713fe29d.svg"},120:function(e,t,a){e.exports=a.p+"static/media/delete.da296998.svg"},121:function(e,t,a){e.exports=a.p+"static/media/cancel.2c5552a1.svg"},122:function(e,t,a){e.exports=a.p+"static/media/accept.ce8e2a41.svg"},123:function(e,t,a){e.exports=a.p+"static/media/user-plus-solid.7465375f.svg"},124:function(e,t,a){e.exports=a(387)},128:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),i=a(19),s=a.n(i),l=(a(128),a(29)),c=a(114),r=a(48),u=a(15),d=a(16),h=a(2),m=a(18),p=a(17),g=(a(75),a(115)),b=a.n(g),v=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).state={name:"",phoneNumber:"",email:"",emailWrong:!1,phoneNumberWrong:!1};return n.statusHandler=n.statusHandler.bind(Object(h.a)(n)),n.numberHandler=n.numberHandler.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n.cancelAddContact=n.cancelAddContact.bind(Object(h.a)(n)),n.cancelUpdateContact=n.cancelUpdateContact.bind(Object(h.a)(n)),n.getFormValues=n.getFormValues.bind(Object(h.a)(n)),n.handleUpdateContact=n.handleUpdateContact.bind(Object(h.a)(n)),n.validatePhoneNumber=n.validatePhoneNumber.bind(Object(h.a)(n)),n.validateEmail=n.validateEmail.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"getFormValues",value:function(){var e=this.props.name,t=this.props.phoneNumber,a=this.props.email;this.setState({name:[e],phoneNumber:[t],email:[a]})}},{key:"componentDidMount",value:function(){this.getFormValues(),console.log(this.props.contacts)}},{key:"statusHandler",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"numberHandler",value:function(e){""!==e.target.value&&!0!==/^[0-9\b\+]+$/.test(e.target.value)||this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(e.target.name.value);var t=e.target.name.value,a=e.target.phoneNumber.value,n=e.target.email.value;console.log("validation states:"),console.log(this.state.emailWrong),console.log(this.state.phoneNumberWrong),this.state.emailWrong||this.state.phoneNumberWrong||""===a||""===n?alert("form not valid yet"):this.props.addContact(t,a,n)}},{key:"cancelAddContact",value:function(){this.props.backToHome()}},{key:"cancelUpdateContact",value:function(){this.props.toggleUpdate()}},{key:"handleUpdateContact",value:function(e){e.preventDefault();var t=e.target.name.value,a=e.target.phoneNumber.value,n=e.target.email.value,o=this.props.id,i={name:t,phoneNumber:a,email:n,id:o};console.log("id:"),console.log(o),this.state.emailWrong||this.state.phoneNumberWrong?alert("form not valid yet"):this.props.updateContact(i)}},{key:"validatePhoneNumber",value:function(e){var t=this;e.preventDefault();var a=/^((04[0-9]{1})(\s?|-?)|019(\s?|-?)|[+]?358(\s?|-?)19|050(\s?|-?)|0457(\s?|-?)|[+]?358(\s?|-?)50|0358(\s?|-?)50|00358(\s?|-?)50|[+]?358(\s?|-?)4[0-9]{1}|0358(\s?|-?)4[0-9]{1}|00358(\s?|-?)4[0-9]{1})(\s?|-?)(([0-9]{3,4})(\s|\-)?[0-9]{2,3})$/;if(void 0===e.target.value)this.setState({phoneNumberWrong:!0});else if(!1===a.test(e.target.value))this.setState({phoneNumberWrong:!0});else if(!0===this.props.contacts.some((function(t){return t.phoneNumber===e.target.value})))if(this.props.isListItem){var n=this.props.contacts.findIndex((function(e){return e.id===t.props.id})),o=this.props.contacts.findIndex((function(t){return t.phoneNumber===e.target.value}));!1===a.test(e.target.value)||n!==o?this.setState({phoneNumberWrong:!0}):this.setState({phoneNumberWrong:!1})}else this.setState({phoneNumberWrong:!0});else this.setState({phoneNumberWrong:!1})}},{key:"validateEmail",value:function(e){var t=e.target.value.split("@");t[0].length<3&&void 0!==t?this.setState({emailWrong:!0}):this.setState({emailWrong:!1})}},{key:"render",value:function(){var e,t,a,n,i=this.props.isListItem,s=this.state.phoneNumberWrong;return this.state.emailWrong&&(a=o.a.createElement("p",null,"Please write valid email")),s&&(n=o.a.createElement("p",null,"Either this phonenumber already exists or it is not valid")),i?(this.state.name=this.props.name,e=o.a.createElement("h1",null,"View Contact"),onsubmit=this.handleUpdateContact,t=o.a.createElement("input",{type:"image",height:"30",width:"30",src:b.a,alt:"",value:"Cancel",onClick:this.cancelUpdateContact})):(e=o.a.createElement("h1",null,"Add Contact"),onsubmit=this.handleSubmit,t=o.a.createElement("input",{className:"button",type:"button",value:"Cancel",onClick:this.cancelAddContact})),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"contactContainer"},o.a.createElement("div",{className:"contactForm"},o.a.createElement("form",{className:"form",onSubmit:void 0},e,o.a.createElement("label",null,"Name:"),o.a.createElement("br",null),o.a.createElement("input",{name:"name",type:"text",defaultValue:this.props.name,onChange:this.statusHandler}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",null,"Phonenumber:"),o.a.createElement("br",null),o.a.createElement("input",{name:"phoneNumber",type:"text",defaultValue:this.props.phoneNumber,onChange:this.numberHandler,onKeyUp:this.validatePhoneNumber}),n,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",null,"Email:"),o.a.createElement("br",null),o.a.createElement("input",{name:"email",type:"email",defaultValue:this.props.email,onChange:this.statusHandler,onKeyUp:this.validateEmail}),a,o.a.createElement("br",null)," ",o.a.createElement("br",null),t,o.a.createElement("div",{className:"divider"}),o.a.createElement("input",{type:"submit",value:"Save",className:"buttons"})))))}}]),a}(n.Component),f=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={emailWrong:!1,phoneNumberWrong:!1,newContact:!0},n}return Object(d.a)(a,[{key:"addContactToList",value:function(e,t,a){var n={name:e,phoneNumber:t,email:a,editMode:!1,id:this.props.incrementId()},o=this.props.contacts.slice();o.push(n),this.props.addToList(o),console.log("new contact"),console.log(this.props.contacts),console.log("islistitem"),console.log(this.props.isListItem),this.props.backToHome()}},{key:"render",value:function(){return o.a.createElement("div",{className:"addContact"},o.a.createElement(o.a.Fragment,null,o.a.createElement(v,{backToHome:this.props.backToHome,addContact:this.addContactToList.bind(this),emailWrong:this.state.emailWrong,phoneNumberWrong:this.state.phoneNumberWrong,contacts:this.props.contacts,newContact:this.state.newContact})))}}]),a}(n.Component),C=(a(129),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={emailWrong:!1,phoneNumberWrong:!1},n}return Object(d.a)(a,[{key:"updateContact",value:function(e){console.log("we are here"),console.log("id"),console.log(e.id),console.log(e.phoneNumber),this.props.updateList(e,this.props.index),this.props.toggleUpdate()}},{key:"updateState",value:function(e){this.props.updateValue(e)}},{key:"render",value:function(){return o.a.createElement(v,{isListItem:this.props.isListItem,backToHome:this.props.backToHome,name:this.props.name,phoneNumber:this.props.phoneNumber,email:this.props.email,updateContact:this.updateContact.bind(this),updateState:this.updateState.bind(this),emailWrong:this.state.emailWrong,phoneNumberWrong:this.state.phoneNumberWrong,contacts:this.props.contacts,index:this.props.index,id:this.props.id,toggleUpdate:this.props.toggleUpdate})}}]),a}(n.Component)),E=a(120),k=a.n(E),N=a(121),y=a.n(N),O=a(122),S=a.n(O),j=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={filtered:[],confirmDelete:{}},n.search=n.search.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"search",value:function(e){var t=[];t=""!==e.target.value?this.props.contacts.filter((function(t){var a=t.name.toString().toLowerCase(),n=t.email.toString().toLowerCase(),o=e.target.value.toString().toLowerCase();return a.includes(o)+n.includes(o)})):this.props.contacts,this.setState({filtered:t}),console.log("after search"),console.log(this.state.filtered),console.log(t)}},{key:"componentDidMount",value:function(){console.log("is called"),this.setState({filtered:this.props.contacts}),console.log("filtered list on didmount"),console.log(this.state.filtered)}},{key:"handleClick",value:function(e,t,a){"deleteButton"===a.target.name?(console.log("let's delete"),this.props.deleteContact(e),this.setState((function(e){return{filtered:e.filtered.filter((function(e){return e!==e}))}})),console.log("new filtered list:"),console.log(this.state.filtered),console.log(this.props.contacts)):"deleteConfirm"===a.target.name?(this.props.activateEdit(e,t,this.state.filtered),this.setState((function(e){return{filtered:e.filtered.filter((function(e){return e!==e}))}}))):"deleteCancel"===a.target.name?this.props.deActivateEdit(e):this.props.listOnClick(e,t)}},{key:"componentDidUpdate",value:function(e){var t=this,a=[];e.contacts!==this.props.contacts&&(""!==this.refs.searchInput.value?(console.log("we are doing this"),a=this.props.contacts.filter((function(e){var a=e.name.toString().toLowerCase(),n=e.email.toString().toLowerCase(),o=t.refs.searchInput.value.toString().toLowerCase();return a.includes(o)+n.includes(o)}))):a=this.props.contacts,this.setState({filtered:a})),console.log(this.state.filtered)}},{key:"render",value:function(){var e=this;return this.state.filtered?o.a.createElement("div",{className:"contactList"},o.a.createElement("input",{type:"text",className:"inputSearch",placeholder:"Search...",onChange:this.search,ref:"searchInput"}),o.a.createElement("ul",null,this.state.filtered.map((function(t,a){return o.a.createElement("li",{key:t.id,onClick:function(n){return e.handleClick(t,a,n)},style:{cursor:"pointer"}},o.a.createElement("div",{className:"cell"},t.name),t.editMode?[o.a.createElement("input",{type:"image",name:"deleteButton",src:S.a,alt:"",width:"20",height:"20"}),o.a.createElement("input",{type:"image",alt:"",name:"deleteCancel",src:y.a,width:"20",height:"20"})]:o.a.createElement("input",{type:"image",name:"deleteConfirm",src:k.a,alt:"",width:"20",height:"20"}))})))):o.a.createElement("div",null,o.a.createElement("h1",null,"ContactList"),o.a.createElement("p",null,"No contacts yet.."))}}]),a}(n.Component),w=a(123),L=a.n(w),W=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={isHomeOpen:!0,isAddContactOpen:!1,isListItem:!1,index:"",filtered:[],id:0,showPopup:!1,showUpdateContact:!1,contacts:[]},n.backToHome=n.backToHome.bind(Object(h.a)(n)),n.updateValue=n.updateValue.bind(Object(h.a)(n)),n.updateList=n.updateList.bind(Object(h.a)(n)),n.deleteContact=n.deleteContact.bind(Object(h.a)(n)),n.listOnClick=n.listOnClick.bind(Object(h.a)(n)),n.activateEdit=n.activateEdit.bind(Object(h.a)(n)),n.deActivateEdit=n.deActivateEdit.bind(Object(h.a)(n)),n.toggleUpdate=n.toggleUpdate.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"addToList",value:function(e){this.setState({contacts:e})}},{key:"incrementId",value:function(){return this.setState((function(e){return{id:e.id+1}})),console.log(this.state.id),this.state.id}},{key:"updateList",value:function(e,t){console.log("index"),console.log(t);var a=Object(r.a)(this.state.contacts);console.log(e.id);var n=a.findIndex((function(t){return t.id===e.id})),o=Object(c.a)({},a[t]);o.name=e.name,o.phoneNumber=e.phoneNumber,o.email=e.email,o.id=e.id,a[n]=o,this.setState({contacts:a}),console.log("new index"),console.log(n)}},{key:"transferToAddContact",value:function(){this.setState({isAddContactOpen:!0,isHomeOpen:!1})}},{key:"listOnClick",value:function(e,t){console.log(t),console.log(e.name),console.log(e.phoneNumber),this.setState({isListItem:!0,name:e.name,phoneNumber:e.phoneNumber,email:e.email,index:[t],id:e.id}),this.toggleUpdate(),console.log()}},{key:"backToHome",value:function(){this.setState({showPopup:!this.state.showPopup,isListItem:!1})}},{key:"toggleUpdate",value:function(){this.setState({showUpdateContact:!this.state.showUpdateContact})}},{key:"updateValue",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"deleteContact",value:function(e){this.setState((function(t){return{contacts:t.contacts.filter((function(t){return t.id!==e.id}))}})),console.log("let's see the contacts:"),console.log(this.state.contacts)}},{key:"activateEdit",value:function(e,t,a){var n=Object(r.a)(this.state.contacts);n.findIndex((function(t){return t.id===e.id}));e.editMode=!0,this.setState({contacts:n})}},{key:"deActivateEdit",value:function(e){var t=Object(r.a)(this.state.contacts),a=this.state.contacts.findIndex((function(t){return t.phoneNumber===e.phoneNumber}));console.log(t),t[a].editMode=!1,this.setState({contacts:t})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"render",value:function(){var e=this.state.isListItem;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"form"},o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"ContactList"),o.a.createElement("input",{type:"image",height:"50",width:"50",src:L.a,alt:"",onClick:this.togglePopup.bind(this)})),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(j,{contacts:this.state.contacts,listOnClick:this.listOnClick,deleteContact:this.deleteContact,activateEdit:this.activateEdit,deActivateEdit:this.deActivateEdit})))),this.state.showPopup?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(f,{contacts:this.state.contacts,backToHome:this.backToHome,addToList:this.addToList.bind(this),incrementId:this.incrementId.bind(this)}))):null,this.state.showUpdateContact?o.a.createElement(C,{isListItem:e,backToHome:this.backToHome,name:this.state.name,phoneNumber:this.state.phoneNumber,email:this.state.email,id:this.state.id,contacts:this.state.contacts,updateValue:this.updateValue,updateList:this.updateList,index:this.state.index,toggleUpdate:this.toggleUpdate}):null)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.c64c7163.chunk.js.map